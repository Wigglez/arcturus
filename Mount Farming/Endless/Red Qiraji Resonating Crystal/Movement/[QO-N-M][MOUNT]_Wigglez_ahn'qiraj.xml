<HBProfile creator="Wigglez" version="1.0">
	<Name>[QO-N-M][MOUNT]_Wigglez_ahn'qiraj</Name>
   
	<MinLevel>80</MinLevel>
	<MaxLevel>101</MaxLevel>
   
	<MinDurability>-1</MinDurability>
	<MinFreeBagSlots>-1</MinFreeBagSlots>
	
	<MailGrey>False</MailGrey>
	<MailWhite>False</MailWhite>
	<MailGreen>False</MailGreen>
	<MailBlue>False</MailBlue>
	<MailPurple>False</MailPurple>
   
	<SellGrey>True</SellGrey>
	<SellWhite>True</SellWhite>
	<SellGreen>True</SellGreen>
	<SellBlue>True</SellBlue>
	<SellPurple>False</SellPurple>
   
	<TargetElites>True</TargetElites>
	
	<AvoidMobs>	
	</AvoidMobs>
	
	<Blackspots>
	</Blackspots>

	<Mailboxes>
	</Mailboxes>
 
	<Vendors>
	</Vendors>
	
	<ProtectedItems>
	</ProtectedItems>

	<Factions>
	</Factions>
	
	<QuestOrder>
		<ClearVendor />
		<ClearMailbox />

		<CustomBehavior File="UserSettings"
						AdvancedSettingsMode="True"
						FindMountAutomatically="True"
						FindVendorsAutomatically="False"
						GroundMountFarmingMode="False"
						HarvestHerbs="False"
						HarvestMinerals="False"
						KillBetweenHotspots="True"
						LogoutForInactivity="False"
						LogoutInactivityUseForceQuit="False"
						LootChests="False"
						LootMobs="False"
						LootRadius="1"
						MountDistance="75"
						MountName=""
						NinjaSkin="False"
						ProfileDebuggingMode="False"
						PullDistance="45"
						RessAtSpiritHealers="False"
						SkinMobs="False"
						UseFlightPaths="True"
						UseMount="True" 
						UseRandomMount="False" />
		
		
		<!-- If we are in Eastern Kingdoms -->
		<If Condition="Me.MapId == 0">
			<CustomBehavior File="Message" 
							Text="We are in Eastern Kingdoms." 
							LogColor="Cyan" />
							
			<CustomBehavior File="Message" 
							Text="Flying to Booty Bay." 
							LogColor="Lime" />
								
			<CustomBehavior File="FlyTo" X="-14297.21" Y="521.5612" Z="76.41416" />
							
			<CustomBehavior File="FlyTo" X="-14285.01" Y="554.9122" Z="8.684637" />
			<CustomBehavior File="ForcedDismount" />
			
			<CustomBehavior File="Message" 
							Text="Waiting on the boat to Ratchet." 
							LogColor="Cyan" />
							
			<!-- Booty Bay to Ratchet -->
			<CustomBehavior File="UseTransport" 
							TransportId="20808" 
							WaitAtX="-14281.86" 
							WaitAtY="564.9252" 
							WaitAtZ="7.45587"
							TransportStartX="-14277.74" 
							TransportStartY="582.86" 
							TransportStartZ="0.015"
							StandOnX="-14271.49" 
							StandOnY="581.3417" 
							StandOnZ="6.019351"
							TransportEndX="-1005.613" 
							TransportEndY="-3841.648" 
							TransportEndZ="0.03330701"	
							GetOffX="-997.8598" 
							GetOffY="-3824.981" 
							GetOffZ="5.466243" />		
							
			<RunTo X="-984.0112" Y="-3801.92" Z="5.412419" />
		</If> <!-- Eastern Kingdoms -->
		
		<!-- If we are in Kalimdor -->
		<If Condition="Me.MapId == 1">
			<If Condition="Me.HearthstoneAreaId == 3425" >
				<CustomBehavior File="Message" 
								Text="Our Innkeeper is set at Cenarion Hold." 
								LogColor="Cyan" />
								
				<!-- Have hearthstone -->
				<If Condition="HasItem(6948)">
					<CustomBehavior File="Message" 
									Text="Using Hearthstone." 
									LogColor="Lime" />
									
					<CustomBehavior File="Misc\RunLua" 
									Lua="UseItemByName(6948)" 
									WaitTime="1000" />
									
					<CustomBehavior File="WaitTimer" 
									WaitTime="15000" />				
				</If> <!-- Have hearthstone -->
			
				<!-- Have Innkeeper's Daughter -->
				<If Condition="HasItem(64488)">
					<CustomBehavior File="Message" 
									Text="Using Innkeeper's Daughter." 
									LogColor="Lime" />
										
					<CustomBehavior File="Misc\RunLua" 
									Lua="UseItemByName(64488)" 
									WaitTime="1000" />
						
					<CustomBehavior File="WaitTimer" 
									WaitTime="15000" />
				</If> <!-- Have Innkeeper's Daughter -->
				
				<!-- Our hearth isn't set, we need to go to the zone -->
				<Else>
					<CustomBehavior File="Message" 
									Text="Our Hearthstone isn't set in the proper location. Moving to set it." 
									LogColor="Lime" />
				
					<CustomBehavior File="Message" 
									Text="Flying to Cenarion Hold." 
									LogColor="Lime" />
				
					<!-- Fly to the hover point above the innkeep -->
					<CustomBehavior File="FlyTo" X="-6820.513" Y="756.1943" Z="84.18653" />

					<!-- Front doorway of the inn -->
					<CustomBehavior File="FlyTo" X="-6834.952" Y="746.7306" Z="42.62398" />
					<CustomBehavior File="ForcedDismount" />

					<!-- Run inside the inn -->
					<RunTo X="-6866.751" Y="730.493" Z="45.6628" />
					
					<!-- Set hearthstone -->
					<CustomBehavior File="Message" 
									Text="Setting my Hearthstone." 
									LogColor="Lime" />
									
					<CustomBehavior File="SetHearthstone" 
									MobId="15174" 
									X="-6868.039" Y="729.9135" Z="45.66359" />
									
					<!-- Run outside of inn -->
					<RunTo X="-6834.952" Y="746.7306" Z="42.62398" />
					
					<!-- Hover point -->
					<CustomBehavior File="FlyTo" X="-6820.513" Y="756.1943" Z="84.18653" />
					
					<CustomBehavior File="Message" 
									Text="We are in Cenarion Hold." 
									LogColor="Fuchsia" />
				</Else> <!-- Set hearth -->
			</If> <!-- Hearth check -->
			
			<!-- Repair/sell if necessary -->
			<If Condition="(Me.LowestDurabilityPercent &lt; 0.95) || (Me.FreeBagSlots &lt; 25)" >	
				<CustomBehavior File="Message" 
								Text="Vendoring or repairing is necessary." 
								LogColor="Fuchsia" />
				
				<CustomBehavior File="FlyTo" X="-6860.531" Y="754.4844" Z="42.40351" />
				<CustomBehavior File="ForcedDismount" />
				
				<CustomBehavior File="ForceSetVendor" 
								DoMail="True" 
								DoRepair="True" 
								DoSell="True" 
								DoTrain="False" />
				
				<SetVendor>
					<Vendors>
						<!-- Cenarion Hold -->
						<Vendor Name="Vargus" 
								Entry="15176" 
								Type="Repair" 
								X="-6860.931" Y="753.0439" Z="42.47256" />
					</Vendors>
				</SetVendor>
				
				<!-- We are done repairing -->
				<If Condition="Me.DurabilityPercent &gt;= 0.95" >
					<CustomBehavior File="Message" 
									Text="Repairing and sales complete." 
									LogColor="Fuchsia" />
				</If> <!-- repaired -->
				
				<CustomBehavior File="Message" 
								Text="Mailing if necessary." 
								LogColor="Fuchsia" />
				
				<SetMailbox>
					<Mailboxes>
						<Mailbox X="-6838.382" Y="736.2891" Z="42.15428" />
					</Mailboxes>
				</SetMailbox>
			
				<!-- Fly to the hover point above the innkeep -->
				<CustomBehavior File="FlyTo" X="-6820.513" Y="756.1943" Z="84.18653" />
			</If> <!-- Repairing -->
			
			<CustomBehavior File="Message" 
							Text="Flying to Ahn'Qiraj." 
							LogColor="Lime" />
			
			<CustomBehavior File="FlyTo" X="-8275.578" Y="1949.67" Z="202.6009" />

			<!-- Fly down -->
			<CustomBehavior File="FlyTo" X="-8239.01" Y="1993.25" Z="129.071" />
			<CustomBehavior File="ForcedDismount" />
			
			<RunTo X="-8239.01" Y="1993.25" Z="129.071" />
			
			<!-- In box -->
			<If Condition="Me.X &gt; -8289 &amp;&amp; Me.X &lt; -8189 &amp;&amp; Me.Y &gt; 1943 &amp;&amp; Me.Y &lt; 2043" >
				<CustomBehavior File="LoadProfile" 
								ProfileName="..\[QO-N][MOUNT]_Wigglez_ahn'qiraj" />
			</If> <!-- In box -->				
		</If> <!-- Kalimdor -->
	</QuestOrder>
</HBProfile>

